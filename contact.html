<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Simon Bogutzky - Contact</title>
		<link rel="stylesheet" href="libs/bootstrap/5.3.0/css/bootstrap.min.css">
		<link rel="stylesheet" href="libs/bootstrap/5.3.0/css/offcanvas-navbar.css">
		<link rel="stylesheet" href="libs/fontawesome/6.2.1/css/all.min.css">
		<link rel="stylesheet" href="css/default.css">
		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
		<link rel="icon" href="favicon.ico" type="image/x-icon">
	</head>
	<body class="bg-dark">
		<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark px-4" aria-label="Main navigation">
			<div class="container-fluid">
				<a class="navbar-brand" href="index.html">Simon Bogutzky</a>
				<button class="navbar-toggler p-0 border-0" type="button" id="navbarSideCollapse" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="navbar-collapse offcanvas-collapse justify-content-end">
					<ul class="navbar-nav mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link px-0" aria-current="page" href="index.html">Home</a>
						</li>
						<li class="nav-item">
							<a class="nav-link px-0" href="projects.html">Projects</a>
						</li>
						<li class="nav-item active">
							<a class="nav-link px-0" href="#">Contact</a>
						</li>
						<li class="nav-item">
							<a class="nav-link px-0" href="privacy-policy.html">Privacy policy</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="w-100 px-0">
			<div class="row w-100 mx-0 bg-primary text-white">
				<div class="col-md-4 mx-auto py-5">
					<h2>
						Get in touch with me.
					</h2>
					<p>
						If you want to contact me, use the form or the e-mail address below.
					</p>
				</div>
				<div class="col-md-5 mx-auto py-5">
					<form onsubmit="sendEmail(); return false;">
						<div class="form-group row">
							<label>Name *</label>
							<div class="col-md-6">
								<input type="text" class="form-control form-control-square" id="first-name" required=""> <label for="first-name" class="col-sm-4 col-form-label"><small>First Name</small></label>
							</div>
							<div class="col-md-6">
								<input type="text" class="form-control form-control-square" id="last-name" required=""> <label for="first-name" class="col-sm-4 col-form-label"><small>Last Name</small></label>
							</div>
						</div>
						<div class="form-group row">
							<div class="col-md-12">
								<label for="email">E-Mail *</label> <input type="email" class="form-control form-control-square" id="email" required="">
							</div>
						</div>
						<div class="form-group row">
							<div class="col-md-12">
								<label for="message">Message *</label> 
								<textarea class="form-control form-control-square" id="message" rows="3" required=""></textarea>
							</div>
						</div>
						<div class="form-group row mt-4">
							<div class="col-md-12">
								<button type="submit" class="btn bg-light text-primary btn-square px-5 py-4">Send</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="container text-center text-white py-4">
			<a href="https://twitter.com/simonbogutzky" target="_blank" class="text-white ml-4"><i class="fa-brands fa-twitter fa-lg"></i></a>
			<a href="https://github.com/simonbogutzky" target="_blank" class="text-white ml-4"><i class="fa-brands fa-github fa-lg"></i></a>
			<p><small>Dr. Simon Bogutzky <br>me@simonbogutzky.me</small></p>
		</div>
		<script src="libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
		<script src="libs/bootstrap/5.3.0/js/offcanvas-navbar.js"></script>
		<script>
			function sendEmail() {
				console.log("sendMail");
				var name = document.getElementById("first-name").value + " " + document.getElementById("last-name").value;
				var email = document.getElementById("email").value;
				var message = document.getElementById("message").value;

				fetch('https://api.sendgrid.com/v3/mail/send', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json',
							'Authorization': 'Bearer ' + process.env.SENDGRID_API_KEY
						},
						body: JSON.stringify({
							personalizations: [{
								to: [{
									email: 'me@simonbogutzky.com'
								}],
								subject: 'Website Contact Form'
							}],
							from: {
								email: email,
								name: name
							},
							content: [{
								type: 'text/plain',
								value: message
							}]
						})
					})
					.then(response => {
						if (response.status === 202) {
							// email was sent successfully
							alert('Email sent successfully');
						} else {
							// email was not sent
							alert('Email not sent');
						}
					})
					.catch(error => {
						alert(error);
					});
			}
		</script>
	</body>
</html>